(this.webpackJsonpcovidapp=this.webpackJsonpcovidapp||[]).push([[0],{106:function(e,t,a){},107:function(e,t,a){},108:function(e,t,a){},112:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(9),c=a.n(o),i=a(16),l=a(60),s=a(61),u=a(72),d=a(71),m=a(62),p=a.n(m),g=a(151),h=a(148),b=Object(h.a)({root:{width:"fit-content",backgroundColor:"white"},heading:{fontSize:"1.3rem",color:"white",padding:"0",margin:"0.1rem"}}),y={mapItem:{color:"white",backgroundColor:"DodgerBlue",padding:"10px",textAlign:"center",width:"fit-content",height:"auto",display:"block",zIndex:"-1"},box:{textAlign:"right",direction:"rtl",fontSize:"15px",width:"150px",height:"auto",position:"absolute",bottom:".7rem",right:"0",left:"-30px",minHeight:"100px",backgroundColor:"DodgerBlue",zIndex:"99999999"},img:{width:"100%",height:"auto",padding:"0",margin:"0"},title:{width:"100%",display:"block",backgroundColor:"white",color:"black",textAlign:"center",padding:"5px 0",margin:"0"}},f=function(e){var t=b();return r.a.createElement("div",{style:y.box},r.a.createElement("img",{alt:e.item.country,src:e.item.countryInfo.flag,style:y.img}),r.a.createElement("span",{style:y.title},e.item.country),r.a.createElement("div",{style:{padding:"1rem 1.3rem",color:"#EBEBEB"}},r.a.createElement("p",{className:t.heading},"\u05e0\u05d3\u05d1\u05e7\u05d9\u05dd")," ",e.item.cases," (",e.item.todayCases,"+)",r.a.createElement("p",{className:t.heading},"\u05de\u05e7\u05e8\u05d9 \u05de\u05d5\u05d5\u05ea")," ",e.item.deaths," (",e.item.todayDeaths,"+)",r.a.createElement("p",{className:t.heading},"\u05d4\u05d7\u05dc\u05d9\u05de\u05d5")," ",e.item.recovered,r.a.createElement("p",{className:t.heading},"\u05e2\u05d5\u05d3\u05db\u05df")," ",""+new Date(e.item.updated).toLocaleString("he-IL",{dateStyle:"medium",timeStyle:"short",month:"2-digis"}),r.a.createElement("p",{className:t.heading},"\u05d1\u05de\u05e6\u05d1 \u05e7\u05e9\u05d4:")," ",e.item.critical))},E=function(e){var t=b(),a=Object(n.useState)(!1),o=Object(i.a)(a,2),c=o[0],l=o[1];return r.a.createElement("div",null,r.a.createElement("div",{onMouseEnter:function(){return l(!0)},onMouseLeave:function(){return l(!1)}},r.a.createElement(g.a,{className:t.root},r.a.createElement("div",{style:y.mapItem}," ",e.item.country," ")),c?r.a.createElement(f,{item:e.item}):""))},v=function(e){Object(u.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).getMapOptions=function(e){return{streetViewControl:!1,scaleControl:!0,fullscreenControl:!1,styles:[{featureType:"poi.business",elementType:"labels",stylers:[{visibility:"on"}]}],gestureHandling:"greedy",disableDoubleClickZoom:!0,minZoom:5,maxZoom:15,mapTypeControl:!0,mapTypeId:e.MapTypeId.SATELLITE,mapTypeControlOptions:{style:e.MapTypeControlStyle.HORIZONTAL_BAR,position:e.ControlPosition.BOTTOM_CENTER,mapTypeIds:[e.MapTypeId.ROADMAP,e.MapTypeId.SATELLITE,e.MapTypeId.HYBRID]},zoomControl:!0,clickableIcons:!0}},n.state={center:{},tooggle:!1},n}return Object(s.a)(a,[{key:"componentWillMount",value:function(){this.setState({center:{lat:this.props.center.lat,lng:this.props.center.lng}})}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{style:{height:"100vh",width:"100wh"}},r.a.createElement(p.a,{bootstrapURLKeys:{key:this.props.api_key},center:this.state.center,defaultZoom:this.props.zoom,options:this.getMapOptions},this.props.con.map((function(t){return r.a.createElement(E,{key:t.country,item:t,lat:t.countryInfo.lat,lng:t.countryInfo.long,con:e.props.con})}))))}}]),a}(r.a.Component);v.defaultProps={zoom:4};var O=v,C=a(25),j=a.n(C),x=a(37),k=function(e){return e.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")},w={BASE_URL:"https://corona.lmao.ninja/v2",API_KEY:"AIzaSyBkwt4aE8tH57Tk8RIx3V6Qb9qbKWdOL1E",getHistorySpeceficCountrty:function(e,t){var a=this;return Object(x.a)(j.a.mark((function n(){var r;return j.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,fetch("".concat(a.BASE_URL,"/historical/").concat(e,"?lastdays=").concat(t)).then((function(e){return e.json()}));case 2:return r=n.sent,n.abrupt("return",r);case 4:case"end":return n.stop()}}),n)})))()},getAllLocations:function(){var e=this;return Object(x.a)(j.a.mark((function t(){var a;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("".concat(e.BASE_URL,"/countries?yesterday=false")).then((function(e){return e.json()})).catch((function(e){return console.log(e)}));case 2:return a=t.sent,t.abrupt("return",a);case 4:case"end":return t.stop()}}),t)})))()}},I=a(153),S=a(154);var A=function(e){return r.a.createElement(I.a,{maxWidth:"lg"},r.a.createElement(S.a,{onClick:function(){window.navigator.geolocation.getCurrentPosition((function(t){var a=[t.coords.latitude,t.coords.longitude],n={lat:a[0],lng:a[1]};return e.passDate({data:n})}))},variant:"contained",color:"primary"},"Get my location"))},T=(a(106),a(157)),N=a(155),L=a(158);var B=function(e){return r.a.createElement(N.a,{item:!0,xs:12},r.a.createElement("div",{className:"container"},r.a.createElement(L.a,{loading:!0,id:"combo-box-demo",options:e.countries,getOptionLabel:function(e){return e.country+"(".concat(e.countryInfo.iso3,")")},style:{width:"80%",margin:"0 auto"},onChange:function(t,a){return n=a,void e.handleChange(n);var n},renderOption:function(e){return r.a.createElement(r.a.Fragment,null,r.a.createElement("span",null,(t=e.countryInfo.flag,a=e.country,r.a.createElement("img",{src:t,alt:a,width:24}))),e.country," (",e.countryInfo.iso3,")");var t,a},autoComplete:!0,disableClearable:!0,renderInput:function(e){return r.a.createElement(T.a,Object.assign({},e,{label:"State",placeholder:"Select one",style:{direction:"ltr",textAlign:"left"},variant:"outlined"}))}})))},M=a(113);a(107);var D=function(e){return r.a.createElement("div",{className:"grid-container"},r.a.createElement(N.a,{container:!0,spacing:3},r.a.createElement(N.a,{item:!0,xs:!0},r.a.createElement(M.a,{className:"paper",style:{borderBottom:"2px solid red"}},r.a.createElement("span",{className:"heading"}," \u05d4\u05e8\u05d5\u05d2\u05d9\u05dd "),r.a.createElement("span",{className:"number"}," ",k(e.selectedCountry.deaths||"-")," "),e.selectedCountry.todayDeaths?"".concat(e.selectedCountry.todayDeaths," \u05d4\u05d9\u05d5\u05dd"):"")),r.a.createElement(N.a,{item:!0,xs:!0},r.a.createElement(M.a,{className:"paper",style:{borderBottom:"2px solid orange"}},r.a.createElement("span",{className:"heading"}," \u05d7\u05d5\u05dc\u05d9\u05dd "),r.a.createElement("span",{className:"number"},"  ",k(e.selectedCountry.cases||"-")," "),e.selectedCountry.todayCases?"".concat(e.selectedCountry.todayCases," \u05d4\u05d9\u05d5\u05dd"):"")),r.a.createElement(N.a,{item:!0,xs:!0},r.a.createElement(M.a,{className:"paper"},r.a.createElement("span",{className:"heading"}," \u05de\u05d7\u05dc\u05d9\u05de\u05d9\u05dd "),r.a.createElement("span",{className:"number"}," ",k(e.selectedCountry.recovered||"-")," ")))))};a(108);var R=function(e){return r.a.createElement(N.a,{container:!0,direction:"row",justify:"center",alignItems:"center",className:"header"},r.a.createElement("div",{style:{direction:"ltr",textAlign:"center"}},r.a.createElement("p",null," \u05de\u05e6\u05d9\u05d2 \u05e0\u05ea\u05d5\u05e0\u05d9 covid-19 \u05e2\u05d1\u05d5\u05e8 ",e.selected.country||"_"," ")))},_=a(68),z=a.n(_),H=a(38),P=null;function W(e){var t=r.a.createRef();return Object(n.useEffect)((function(){null!=P&&(P.data.datasets=null,P.data.labels=null),P=new z.a(t.current,function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Array,t={labels:Object(H.a)(e.country),datasets:[{label:"\u05d7\u05d5\u05dc\u05d9\u05dd",data:Object(H.a)(e.cdata),backgroundColor:"rgb(5, 159, 255)"},{label:"\u05d4\u05d7\u05dc\u05d9\u05de\u05d5",data:Object(H.a)(e.recoverd),backgroundColor:"rgb(62, 194, 45)"},{label:"\u05e0\u05e4\u05d8\u05e8\u05d5",data:Object(H.a)(e.deaths),backgroundColor:"rgb(240, 80, 80)"}]},a={type:"bar",data:t,backgroundColor:"rgba(0, 0, 0, 1)",borderColor:"rgba(0, 123, 255, 0.9)",borderWidth:2,options:{legend:{display:!0,position:"bottom"},scales:{yAxes:[{ticks:{fontColor:"rgba(0,0,0,0.5)",fontStyle:"bold",beginAtZero:!0,maxTicksLimit:10,padding:20},gridLines:{drawTicks:!1,display:!1}}],xAxes:[{gridLines:{zeroLineColor:"rgba(0, 0, 0, 1)"},ticks:{padding:20,fontColor:"rgba(0,0,0,0.5)",fontStyle:"bold"}}]}}};return a}(e))}),[e.deaths,e.cdata]),r.a.createElement("div",{style:{margin:"0 auto",width:"80%",height:"auto"}},r.a.createElement("canvas",{id:"myChart",ref:t}))}var Z=function(e){var t=Object(n.useState)([]),a=Object(i.a)(t,2),o=(a[0],a[1]),c=Object(n.useState)([]),l=Object(i.a)(c,2),s=l[0],u=l[1],d=Object(n.useState)([]),m=Object(i.a)(d,2),p=m[0],g=m[1],h=Object(n.useState)([]),b=Object(i.a)(h,2),y=b[0],f=b[1],E=Object(n.useState)([]),v=Object(i.a)(E,2),O=v[0],C=v[1];return Object(n.useEffect)((function(){function t(){return(t=Object(x.a)(j.a.mark((function t(){var a;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=Object.keys(e.selected).length>0?e.selected.country:"israel",t.next=3,w.getHistorySpeceficCountrty(a,"7").then((function(e){f(Object.values(e.timeline.deaths)),u(Object.keys(e.timeline.cases)),C(Object.values(e.timeline.recovered)),g(Object.values(e.timeline.cases)),o(e)})).catch((function(e){return console.log(e)}));case 3:return t.sent,t.abrupt("return");case 5:case"end":return t.stop()}}),t)})))).apply(this,arguments)}!function(){t.apply(this,arguments)}()}),[e.selected,f]),Object.keys(e.selected).length>0?r.a.createElement(W,{country:s,recoverd:O,cdata:p,deaths:y}):r.a.createElement("h1",{style:{textAlign:"center"}},"\u05d0\u05e0\u05d0 \u05d1\u05d7\u05e8 \u05de\u05d3\u05d9\u05e0\u05d4")};var K=function(e){var t=Object(n.useState)([]),a=Object(i.a)(t,2),o=a[0],c=a[1],l=function(e){c(e)};return r.a.createElement("div",null,r.a.createElement(R,{selected:o}),r.a.createElement(B,{countries:e.countries,selectedCountry:o,handleChange:l}),r.a.createElement(D,{selectedCountry:o,handleChange:l}),r.a.createElement(Z,{selected:o}))};var U=function(e){var t=Object(n.useState)([]),a=Object(i.a)(t,2),o=a[0],c=a[1],l=Object(n.useState)([]),s=Object(i.a)(l,2),u=s[0],d=s[1];return Object(n.useEffect)((function(){o!==[]&&w.getAllLocations().then((function(e){c(e)}))}),[]),!0!==e.panel?r.a.createElement("div",{id:"main"},Object.keys(u.data||{}).length>0?r.a.createElement(O,{api_key:w.API_KEY,con:o,center:u.data}):r.a.createElement(A,{passDate:function(e){d(e)}})):r.a.createElement(K,{countries:o})},Y=a(69),J=a(24);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var V=r.a.createElement(Y.a,null,r.a.createElement("div",{className:"bg-color"},r.a.createElement(J.a,{exact:!0,path:"/",component:U}),r.a.createElement(J.a,{path:"/stats",component:function(){return r.a.createElement(U,{panel:!0})}})));c.a.render(V,document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},78:function(e,t,a){e.exports=a(112)}},[[78,1,2]]]);
//# sourceMappingURL=main.cfb95080.chunk.js.map